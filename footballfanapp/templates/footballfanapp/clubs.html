{% extends 'main.html' %}
{% block content %}
<h1 class="clubs_page_title">
    Clubs and Details
</h1>
<hr>
<div class="search_sort_filter">
    <div class="filter_section">
        <form method="GET" action="{% url 'filter-clubs' %}">
            <label for="search">Filter:</label>
            <input class='search_field' type="text" id="search" name="q" placeholder="Country">
            <input class='search_field' type="number" id="search" name="u" placeholder="Minimum No of UCL Won">
            <button class="search_btn" type="submit">Filter</button>
        </form>
    </div>
    <div class="search_section">
        <form method="GET" action="{% url 'search-clubs' %}">
            <label for="search">Search by Club Name:</label>
            <input class='search_field' type="text" id="search" name="q" placeholder="Club Name">
            <button class="search_btn" type="submit">Look for it!</button>
        </form>
    </div>
</div>
<hr>
{% if clubs|length > 0 %}
<table class="ClubTable">
    <tr class="header-row">
        <th>Insignia</th>
        <th>Club Name</th>
        <th>Abbreviation</th>
        <th>Country</th>
        <th>Established</th>
        <th>Home Venue</th>
    </tr>
    {% for club in clubs %}
    <tr>
        <td><a href="{% url 'club' club.id %}"><img class="TableClubLogo" src="{{club.logo.url}}" alt="Club Logo"></a>
        </td>
        <td><a href="{% url 'club' club.id %}">{{ club.name }}</a></td>
        <td>{{ club.abb }}</td>
        <td>{{ club.country }}</td>
        <td>{{ club.estd }}</td>
        <td>{{ club.home_venue }}</td>
    </tr>
    {% endfor %}
</table>

<div class="pagination">
    {% if clubs.has_previous %}
        <a href="?page=1">First</a>
        <a href="?page={{ clubs.previous_page_number }}">Previous</a>
    {% endif %}
    <span class="current-page">{{ clubs.number }}</span>
    {% if clubs.has_next %}
        <a href="?page={{ clubs.next_page_number }}">Next</a>
        <a href="?page={{ clubs.paginator.num_pages }}">Last</a>
    {% endif %}
</div>

{% else %}
    <h2 class="clubs_page_title">Ooooops!!! No result Found"</h2>
{%endif%}

<div style=" display: flex; justify-content: space-around;">
    {% if mode > 0 %}
    <a href="{% url 'clubs' %}" class="nav_button">
        Back
    </a>
    {% endif %}
    <a href="{% url 'create-club' %}" class="nav_button">
        Add New Club
    </a>
</div>

{% endblock content %}